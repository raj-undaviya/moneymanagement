{% extends 'index.html' %}
{% load static %}
{% block title %}
Reports
{% endblock title %}
{% block body %}
{% include 'sidebar.html' %}
{% include 'header.html' %}
{% include 'header.html' %}
{% include 'wrapper-start.html' %}
<div id="accordion-open" data-accordion="open">
  <!-- First -->
  <h2 id="accordion-collapse-heading-1">
    <button type="button" class="flex items-center justify-between w-full p-5 font-medium rtl:text-right border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 gap-3 bg-white" data-accordion-target="#accordion-collapse-body-1" aria-expanded="true" aria-controls="accordion-collapse-body-1">
      <span class="text-lg font-semibold text-teal-600">Account Report</span>
      <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0 text-teal-600" aria-hidden="false" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
      </svg>
    </button>
  </h2>
  <div id="accordion-collapse-body-1" class="hidden" aria-labelledby="accordion-collapse-heading-1">
    
    <div class="bg-white p-2">
      <div class="overflow-x-auto rounded-lg">
        <table class="min-w-full bg-white border-teal-600">
          <thead>
            <tr>
              <th class="px-6 py-3 border-b-2 border-teal-200 text-left text-sm leading-4 tracking-wider text-teal-700 uppercase bg-teal-300">Sr. no.</th>
              <th class="px-6 py-3 border-b-2 border-teal-200 text-left text-sm leading-4 tracking-wider text-teal-700 uppercase bg-teal-300">Name</th>
              <th class="px-6 py-3 border-b-2 border-teal-200 text-left text-sm leading-4 tracking-wider text-teal-700 uppercase bg-teal-300">Email Id</th>
              <th class="px-6 py-3 border-b-2 border-teal-200 text-left text-sm leading-4 tracking-wider text-teal-700 uppercase bg-teal-300">Phone Number</th>
              <th class="px-6 py-3 border-b-2 border-teal-200 text-left text-sm leading-4 tracking-wider text-teal-700 uppercase bg-teal-300">City</th>
              <th class="px-6 py-3 border-b-2 border-teal-200 text-left text-sm leading-4 tracking-wider text-teal-700 uppercase bg-teal-300">State</th>
              <th class="px-6 py-3 border-b-2 border-teal-200 text-left text-sm leading-4 tracking-wider text-teal-700 uppercase bg-teal-300">Pin Code</th>
            </tr>
          </thead>
          <tbody>
            {% if userdata %}
              {% for userdata in userdata %}
              <tr class="bg-teal-50 hover:bg-teal-100">
                <td class="px-6 py-4 whitespace-no-wrap border-b border-teal-200">{{ forloop.counter }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-teal-200">{{ userdata.account_name|default:"-" }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-teal-200">{{ userdata.account_email_id|default:"-" }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-teal-200">{{ userdata.account_phone_number|default:"-" }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-teal-200">{{ userdata.account_city|default:"-" }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-teal-200">{{ userdata.account_state|default:"-" }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-teal-200">{{ userdata.account_pincode|default:"-" }}</td>
              </tr>
              {% endfor %}
            {% else %}
            <tr class="bg-teal-50 col-span-8">
              <td class="px-6 py-4 whitespace-no-wrap border-b border-teal-200 text-center" colspan="7">You Don't Have Any Accounts !</td>
            </tr>
            {% endif %}
          </tbody>
          <tfoot>
            <tr>
              <td colspan="7" class="px-6 py-3 border-b-2 border-teal-200 text-left font-semibold text-sm leading-4 text-teal-700 tracking-wider uppercase bg-teal-300">Total Accounts:{{ userdata | length }}</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
    
  </div>
  <!-- Sec -->
  <h2 id="accordion-collapse-heading-2">
    <button type="button" class="flex items-center justify-between w-full p-5 font-medium rtl:text-right border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 gap-3 bg-white" data-accordion-target="#accordion-collapse-body-2" aria-expanded="true" aria-controls="accordion-collapse-body-2">
      <span class="text-lg font-semibold text-purple-600">Transaction Report</span>
      <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0 text-purple-600" aria-hidden="false" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
      </svg>
    </button>
  </h2>
  <div id="accordion-collapse-body-2" class="hidden" aria-labelledby="accordion-collapse-heading-2">
   
    <div class="bg-white p-4">
      <div class="overflow-hidden">
        <table class="min-w-full bg-white border-purple-500">
          <thead>
            <tr>
              <th class="px-6 py-3 border-b-2 border-purple-200 text-left text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300">Sr. No.</th>
              <th class="px-6 py-3 border-b-2 border-purple-200 text-left text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300">Transaction Date</th>
              <th class="px-6 py-3 border-b-2 border-purple-200 text-left text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300">Account Name</th>
              <th class="px-6 py-3 border-b-2 border-purple-200 text-left text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300">Credit Amount</th>
              <th class="px-6 py-3 border-b-2 border-purple-200 text-left text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300">Debit Amount</th>
            </tr>
          </thead>
          <tbody>
            {% if transactiondata %}
              {% for transactiondata in transactiondata %}
                <tr class="bg-purple-50 hover:bg-purple-100">
                  <td class="px-6 py-4 whitespace-no-wrap border-b border-purple-200">{{ forloop.counter }}.</td>
                  <td class="px-6 py-4 whitespace-no-wrap border-b border-purple-200">{{ transactiondata.transaction_date }}</td>
                  <td class="px-6 py-4 whitespace-no-wrap border-b border-purple-200">{{ transactiondata.account_name }}</td>
                  <td class="px-6 py-4 whitespace-no-wrap border-b border-purple-200">{{ transactiondata.credit_amount|default:"-" }}</td>
                  <td class="px-6 py-4 whitespace-no-wrap border-b border-purple-200">{{ transactiondata.debit_amount|default:"-" }}</td>
                </tr>
              {% endfor %}
            {% else %}
            <tr class="bg-purple-50">
              <td class="px-6 py-4 whitespace-no-wrap border-b border-purple-200" colspan="7">You Don't Have Any Transaction !</td>
            </tr>
            {% endif %}
          </tbody>
          <tfoot>
            <tr>
              <td class="px-6 py-3 border-b-2 border-purple-200 text-left font-semibold text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300">Total Transactions:{{ transactiondata | length }}</td>
              <td class="px-6 py-3 border-b-2 border-purple-200 text-left font-semibold text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300"></td>
              <td class="px-6 py-3 border-b-2 border-purple-200 text-left font-semibold text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300"></td>
              <td class="px-6 py-3 border-b-2 border-purple-200 text-left font-semibold text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300">{{ total_credit }}.00</td>
              <td class="px-6 py-3 border-b-2 border-purple-200 text-left font-semibold text-sm leading-4 tracking-wider text-purple-700 uppercase bg-purple-300">{{ total_debit }}.00</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
    
  </div>
  <!-- Third -->
  <h2 id="accordion-collapse-heading-3">
    <button type="button" class="flex items-center justify-between w-full p-5 font-medium rtl:text-right border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 gap-3 bg-white" data-accordion-target="#accordion-collapse-body-3" aria-expanded="true" aria-controls="accordion-collapse-body-3">
      <h3 class="text-lg font-semibold text-green-600">Credit Report</h3>
      <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0 text-green-600" aria-hidden="false" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
      </svg>
    </button>
  </h2>
  <div id="accordion-collapse-body-3" class="hidden" aria-labelledby="accordion-collapse-heading-3">
    
    <div class="bg-white p-4 ">
      <div class="overflow-x-auto ">
        <table class="min-w-full bg-white border-green-500">
          <thead>
            <tr>
              <th class="px-6 py-3 border-b-2 border-green-200 text-left text-sm leading-4 tracking-wider text-green-700 uppercase bg-green-300">Sr. No.</th>
              <th class="px-6 py-3 border-b-2 border-green-200 text-left text-sm leading-4 tracking-wider text-green-700 uppercase bg-green-300">Transaction Date</th>
              <th class="px-6 py-3 border-b-2 border-green-200 text-left text-sm leading-4 tracking-wider text-green-700 uppercase bg-green-300">Account Name</th>
              <th class="px-6 py-3 border-b-2 border-green-200 text-left text-sm leading-4 tracking-wider text-green-700 uppercase bg-green-300">Credit Amount</th>
            </tr>
          </thead>
          <tbody>
            {% if creditdata %}
              {% for creditdata in creditdata %}
              <tr class="bg-green-50 hover:bg-green-100">
                <td class="px-6 py-4 whitespace-no-wrap border-b border-green-200">{{ forloop.counter }}.</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-green-200">{{ creditdata.transaction_date }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-green-200">{{ creditdata.account_name }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-green-200">{{ creditdata.credit_amount }}</td>
              </tr>
              {% endfor %}
              {% else %}
              <tr class="bg-green-50">
                <td class="px-6 py-4 whitespace-no-wrap border-b border-green-200" colspan="7">
                  You Don't Have Any Credit Value !
                </td>
              </tr>
              {% endif %}
          </tbody>
          <tfoot>
            <tr>
              <td class="px-6 py-3 border-b-2 border-green-200 text-left text-sm font-semibold leading-4 tracking-wider text-green-700 uppercase bg-green-300">Total Credit Entries:{{ creditdata | length }}</td>
              <td class="px-6 py-3 border-b-2 border-green-200 text-left text-sm font-semibold leading-4 tracking-wider text-green-700 uppercase bg-green-300"></td>
              <td class="px-6 py-3 border-b-2 border-green-200 text-left text-sm font-semibold leading-4 tracking-wider text-green-700 uppercase bg-green-300"></td>
              <td class="px-6 py-3 border-b-2 border-green-200 text-left text-sm font-semibold leading-4 tracking-wider text-green-700 uppercase bg-green-300">Total Amount:₹{{ total_credit }}.00</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
    
  </div>
  <!-- Forth -->
  <h2 id="accordion-collapse-heading-4">
    <button type="button" class="flex items-center justify-between w-full p-5 font-medium rtl:text-right border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 gap-3 bg-white" data-accordion-target="#accordion-collapse-body-4" aria-expanded="true" aria-controls="accordion-collapse-body-4">
      <span class="text-lg font-semibold text-red-600">Debit Report</span>
      <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0 text-red-600" aria-hidden="false" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
      </svg>
    </button>
  </h2>
  <div id="accordion-collapse-body-4" class="hidden" aria-labelledby="accordion-collapse-heading-4">
    
    <div class="bg-white p-4">
      <div class="overflow-x-auto">
        <table class="min-w-full bg-white border-red-500">
          <thead>
            <tr>
              <th class="px-6 py-3 border-b-2 border-red-200 text-left text-sm leading-4 tracking-wider text-red-700 uppercase bg-red-300">Sr. No.</th>
              <th class="px-6 py-3 border-b-2 border-red-200 text-left text-sm leading-4 tracking-wider text-red-700 uppercase bg-red-300">Transaction Date</th>
              <th class="px-6 py-3 border-b-2 border-red-200 text-left text-sm leading-4 tracking-wider text-red-700 uppercase bg-red-300">Account Name</th>
              <th class="px-6 py-3 border-b-2 border-red-200 text-left text-sm leading-4 tracking-wider text-red-700 uppercase bg-red-300">Debit Amount</th>
            </tr>
          </thead>
          <tbody>
            {% if debitdata %}
              {% for debitdata in debitdata %}
              <tr class="bg-red-50 hover:bg-red-100">
                <td class="px-6 py-4 whitespace-no-wrap border-b border-red-200">{{ forloop.counter }}.</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-red-200">{{ debitdata.transaction_date }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-red-200">{{ debitdata.account_name }}</td>
                <td class="px-6 py-4 whitespace-no-wrap border-b border-red-200">{{ debitdata.debit_amount }}</td>
              </tr>
              {% endfor %}
            {% else %}
            <tr class="bg-red-50">
                <td class="px-6 py-4 whitespace-no-wrap border-b border-red-200" colspan="7">
              You Don't Have Any Debit Value !
            </td>
              </tr>
            {% endif %}
          </tbody>
          <tfoot>
            <tr>
              <td class="px-6 py-3 border-b-2 border-red-200 text-left text-sm leading-4 font-semibold tracking-wider text-red-700 uppercase bg-red-300">Total Debit Entries:{{ debitdata | length }}</td>
              <td class="px-6 py-3 border-b-2 border-red-200 text-left text-sm leading-4 font-semibold tracking-wider text-red-700 uppercase bg-red-300"></td>
              <td class="px-6 py-3 border-b-2 border-red-200 text-left text-sm leading-4 font-semibold tracking-wider text-red-700 uppercase bg-red-300"></td>
              <td class="px-6 py-3 border-b-2 border-red-200 text-left text-sm leading-4 font-semibold tracking-wider text-red-700 uppercase bg-red-300">Total Amount:₹{{ total_debit }}.00</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
    
  </div>
</div>
  



{% include 'wrapper-end.html' %}
<script>
  // Get references to the credit and debit amount input fields
  const accountReportDetail = document.getElementById("act_report");
  const transactionReportDetail = document.getElementById("trn_report");
  const creditReportDetail = document.getElementById("crd_report");
  const debitReportDetail = document.getElementById('dbt_report');

  // Add event listeners to both input fields
  creditAmountInput.addEventListener("input", function() {
    // If credit amount is entered, disable the debit amount input field
    if (this.value.trim() !== "") {
      debitAmountInput.disabled = true;
    } else {
      // If credit amount is cleared, enable the debit amount input field
      debitAmountInput.disabled = false;
    }
  });

  debitAmountInput.addEventListener("input", function() {
    // If debit amount is entered, disable the credit amount input field
    if (this.value.trim() !== "") {
      creditAmountInput.disabled = true;
    } else {
      // If debit amount is cleared, enable the credit amount input field
      creditAmountInput.disabled = false;
    }
  });
</script>
{% endblock body %}